{"version":3,"sources":["classes/population.class.js"],"names":["Population","population","element","issues","Map","keys","key","set","size","issue","entries","Array","from","map","unshift","queue","originalIssueOrder","reverse","some","e","console","log","jumps","filter","length","promoteIssue","places","oldPosition","get","newPosition","forEach","topThree","sort","a","b","slice"],"mappings":";;;;;;;;;;AAAA;IACaA,U,WAAAA,U;AAET,wBAAYC,UAAZ,EAAwBC,OAAxB,EAAgC;AAAA;;AAC5B,aAAKD,UAAL,GAAkBA,UAAlB;AACA,aAAKC,OAAL,GAAeA,OAAf;AACA,aAAKC,MAAL,GAAc,IAAIC,GAAJ,EAAd;;AAH4B;AAAA;AAAA;;AAAA;AAK5B,iCAAeF,QAAQC,MAAR,CAAeE,IAAf,EAAf,8HAAqC;AAAA,oBAA7BC,GAA6B;;AACjC,qBAAKH,MAAL,CAAYI,GAAZ,CAAgBD,GAAhB,EAAqB,KAAKH,MAAL,CAAYK,IAAjC;AACH;AAP2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO3B;;AAED,aAAKN,OAAL,CAAaD,UAAb,IAA2BA,UAA3B;AACH;;;;iCAQQQ,K,EAAO;AACZ,gBAAIC,UAAUC,MAAMC,IAAN,CAAW,KAAKT,MAAL,CAAYO,OAAZ,EAAX,EAAkCG,GAAlC,CAAsC;AAAA,uBAAS,CAACJ,MAAM,CAAN,CAAD,EAAWA,MAAM,CAAN,GAAX,CAAT;AAAA,aAAtC,CAAd;;AAEAC,oBAAQI,OAAR,CAAgB,CAACL,KAAD,EAAO,CAAP,CAAhB;;AAEA,iBAAKN,MAAL,GAAc,IAAIC,GAAJ,CAAQM,OAAR,CAAd;AACH;;;yCAEgBK,K,EAAM;AAAA;;AACnB,gBAAIC,qBAAqBL,MAAMC,IAAN,CAAW,KAAKT,MAAL,CAAYE,IAAZ,EAAX,EAA+BY,OAA/B,EAAzB;;AADmB;AAAA;AAAA;;AAAA;AAAA;AAAA,wBAGXR,KAHW;;;AAKf,wBAAGM,MAAMG,IAAN,CAAW;AAAA,+BAAKC,MAAMV,KAAX;AAAA,qBAAX,CAAH,EAAgC;;AAE5BW,gCAAQC,GAAR,gBAAyBZ,KAAzB;;AAEA,4BAAIa,QAAQP,MAAMQ,MAAN,CAAa;AAAA,mCAAKJ,MAAMV,KAAX;AAAA,yBAAb,EAA+Be,MAA3C;AACA,8BAAKC,YAAL,CAAkBhB,KAAlB,EAAyBa,KAAzB;;AAEAP,gCAAQA,MAAMQ,MAAN,CAAa;AAAA,mCAAKJ,MAAMV,KAAX;AAAA,yBAAb,CAAR;AACH;AAbc;;AAGnB,sCAAiBO,kBAAjB,mIAAoC;AAAA;AAYnC;AAfkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBtB;;;qCAEYP,K,EAAmB;AAAA,gBAAZiB,MAAY,uEAAH,CAAG;;AAC5B,gBAAIC,cAAc,KAAKxB,MAAL,CAAYyB,GAAZ,CAAgBnB,KAAhB,CAAlB;AACA,gBAAIoB,cAAcF,cAAcD,MAAhC;;AAEA,iBAAKvB,MAAL,CAAY2B,OAAZ,CAAoB,iBAAQ;AACxB,oBAAGrB,SAASoB,WAAT,IAAwBpB,QAAQkB,WAAnC,EAA+C;AAC3C,2BAAOlB,OAAP;AACH,iBAFD,MAGI;AACA,2BAAOA,KAAP;AACH;AACJ,aAPD;;AASA,iBAAKN,MAAL,CAAYI,GAAZ,CAAgBE,KAAhB,EAAuBoB,WAAvB;AACH;;;4BA/CmB;AAChB,gBAAIE,WAAW,KAAK5B,MAAL,CAAYO,OAAZ,GAAsBsB,IAAtB,CAA2BC,CAA3B,EAA6B;AAAA,uBAAKA,EAAE,CAAF,IAAKC,EAAE,CAAF,CAAV;AAAA,aAA7B,EAA6CC,KAA7C,CAAmD,CAAnD,EAAqD,CAArD,CAAf;;AAEA,mBAAO,IAAI/B,GAAJ,CAAQ2B,QAAR,CAAP;AACH","file":"population.class.js","sourcesContent":["//population within a district\r\nexport class Population {\r\n    \r\n    constructor(population, element){\r\n        this.population = population;\r\n        this.element = element;\r\n        this.issues = new Map();\r\n\r\n        for(let key of element.issues.keys()){\r\n            this.issues.set(key, this.issues.size);\r\n        };\r\n\r\n        this.element.population += population;\r\n    }\r\n\r\n    get topThreeIssues(){\r\n        let topThree = this.issues.entries().sort(a,b => a[1]>b[1]).slice(0,2);\r\n\r\n        return new Map(topThree);\r\n    }\r\n\r\n    addIssue(issue) {\r\n        let entries = Array.from(this.issues.entries()).map(issue => [issue[0], issue[1]++]);\r\n\r\n        entries.unshift([issue,0]);\r\n\r\n        this.issues = new Map(entries);\r\n    }\r\n\r\n    promoteWithQueue(queue){\r\n        let originalIssueOrder = Array.from(this.issues.keys()).reverse();\r\n\r\n        for(let issue of originalIssueOrder){\r\n\r\n            if(queue.some(e => e === issue)){\r\n\r\n                console.log(`promoting ${issue}`);\r\n                \r\n                let jumps = queue.filter(e => e === issue).length;\r\n                this.promoteIssue(issue, jumps);\r\n                \r\n                queue = queue.filter(e => e !== issue);\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n\r\n    promoteIssue(issue, places = 1) {\r\n        let oldPosition = this.issues.get(issue);\r\n        let newPosition = oldPosition + places;\r\n\r\n        this.issues.forEach(issue =>{\r\n            if(issue >= newPosition && issue < oldPosition){\r\n                return issue++;\r\n            }\r\n            else{\r\n                return issue;\r\n            }\r\n        });\r\n\r\n        this.issues.set(issue, newPosition);\r\n    }\r\n}\r\n"]}